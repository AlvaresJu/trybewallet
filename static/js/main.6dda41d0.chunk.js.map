{"version":3,"sources":["redux/actions/loginActions.js","components/Logo.js","pages/Login.js","components/Header.js","redux/actions/walletActions.js","components/Table.js","components/WalletForm.js","pages/Wallet.js","App.js","redux/reducers/user.js","redux/reducers/wallet.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["USER_LOGIN","Logo","className","this","props","Component","Login","handleEmailChange","value","target","isValidEmail","test","setState","email","validEmail","handlePasswordChange","isValidPassword","length","validPassword","handleSubmit","event","preventDefault","history","registerEmail","state","push","type","placeholder","onChange","disabled","onClick","React","connect","dispatch","getUserEmail","Header","loggedEmail","totalExpense","toFixed","user","wallet","REQUEST_DATA","FAILED_REQUEST","GET_CURRENCIES","ADD_EXPENSE","REMOVE_EXPENSE","EDIT_EXPENSE","SAVE_EDITED_EXPENSE","CHANGE_INPUT","requestData","failedRequest","requestError","addExpense","expense","valueBRL","Table","handleRemoveExpense","id","currency","exchangeRates","removeExpenseItem","ask","handleEditExpense","expenseToEdit","enableExpenseEditing","description","method","tag","expenses","map","key","Number","name","idToRemove","valueToRemove","removeExpense","idToEdit","inputsToEdit","startEditingExpense","WalletForm","handleAddExpense","addExpenseItem","formData","handleSaveEdited","editExpenseItem","prevData","find","valueToSub","valueToAdd","getCurrencies","currencies","loading","editor","handleChange","htmlFor","min","element","fetch","request","json","requestResult","status","Error","code","message","currencyList","Object","keys","filter","console","log","expenseData","editedData","subValue","addValue","saveEditedExpense","input","inputValue","handleFormChange","Wallet","App","path","component","exact","INITIAL_STATE","action","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","window","Cypress","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.6dda41d0.chunk.js","sourcesContent":["// Coloque aqui suas actions\nexport const USER_LOGIN = 'USER_LOGIN';\n\nexport const getUserEmail = (email) => ({\n  type: USER_LOGIN,\n  email,\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { BsCashCoin, BsWallet2 } from 'react-icons/bs';\n\nclass Logo extends Component {\n  render() {\n    const { className } = this.props;\n    return (\n      <h1 className={ className }>\n        <BsWallet2 />\n        <BsCashCoin />\n        {' '}\n        TrybeWallet\n      </h1>\n    );\n  }\n}\n\nLogo.propTypes = {\n  className: PropTypes.string.isRequired,\n};\n\nexport default Logo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getUserEmail } from '../redux/actions/loginActions';\nimport Logo from '../components/Logo';\nimport '../styles/login.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      validEmail: false,\n      validPassword: false,\n    };\n  }\n\n  handleEmailChange = ({ target }) => {\n    const { value } = target;\n    const isValidEmail = (/\\S+@\\S+\\.\\S+/).test(value);\n    this.setState({ email: value, validEmail: isValidEmail });\n  }\n\n  handlePasswordChange = ({ target }) => {\n    const { value } = target;\n    const minLenghtPassword = 6;\n    const isValidPassword = value.length >= minLenghtPassword;\n    this.setState({ validPassword: isValidPassword });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { history, registerEmail } = this.props;\n    const { email } = this.state;\n    registerEmail(email);\n    history.push('/carteira');\n  }\n\n  render() {\n    const { email, validEmail, validPassword } = this.state;\n    return (\n      <div className=\"login-container\">\n        <form className=\"login-form\">\n          <Logo className=\"large-logo\" />\n          <input\n            type=\"email\"\n            data-testid=\"email-input\"\n            placeholder=\"E-mail\"\n            value={ email }\n            onChange={ this.handleEmailChange }\n          />\n          <input\n            type=\"password\"\n            data-testid=\"password-input\"\n            placeholder=\"Senha\"\n            onChange={ this.handlePasswordChange }\n          />\n          <button\n            type=\"submit\"\n            data-testid=\"login-submit-button\"\n            disabled={ !(validEmail && validPassword) }\n            onClick={ this.handleSubmit }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  registerEmail: (email) => dispatch(getUserEmail(email)),\n});\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  registerEmail: PropTypes.func.isRequired,\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n","import React, { Component } from 'react';\nimport { ImMail4 } from 'react-icons/im';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FcCurrencyExchange } from 'react-icons/fc';\nimport Logo from './Logo';\nimport '../styles/header.css';\n\nclass Header extends Component {\n  render() {\n    const { loggedEmail, totalExpense } = this.props;\n    return (\n      <header>\n        <Logo className=\"medium-logo\" />\n        <div className=\"total-expense-container\">\n          <FcCurrencyExchange />\n          <span>\n            <strong>Tota de despesas:</strong>\n            {' '}\n            R$\n            {' '}\n          </span>\n          <span data-testid=\"total-field\">\n            { totalExpense.toFixed(2) }\n          </span>\n          <span data-testid=\"header-currency-field\">BRL</span>\n        </div>\n        <div className=\"email-container\">\n          <ImMail4 />\n          <span data-testid=\"email-field\">{ loggedEmail }</span>\n        </div>\n      </header>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loggedEmail: state.user.email,\n  totalExpense: state.wallet.totalExpense,\n});\n\nHeader.propTypes = {\n  loggedEmail: PropTypes.string.isRequired,\n  totalExpense: PropTypes.number.isRequired,\n};\n\nexport default connect(mapStateToProps, null)(Header);\n","// Coloque aqui suas actions\nexport const REQUEST_DATA = 'REQUEST_DATA';\nexport const FAILED_REQUEST = 'FAILED_REQUEST';\nexport const GET_CURRENCIES = 'GET_CURRENCIES';\nexport const ADD_EXPENSE = 'ADD_EXPENSE';\nexport const REMOVE_EXPENSE = 'REMOVE_EXPENSE';\nexport const EDIT_EXPENSE = 'EDIT_EXPENSE';\nexport const SAVE_EDITED_EXPENSE = 'SAVE_EDITED_EXPENSE';\nexport const CHANGE_INPUT = 'CHANGE_INPUT';\n\nconst requestData = () => ({ type: REQUEST_DATA });\n\nconst failedRequest = (requestError) => ({\n  type: FAILED_REQUEST,\n  requestError,\n});\n\nconst getCurrencies = (currencies) => ({\n  type: GET_CURRENCIES,\n  currencies,\n});\n\nexport const fetchCurrencies = () => async (dispatch) => {\n  dispatch(requestData());\n  try {\n    const request = await fetch('https://economia.awesomeapi.com.br/json/all');\n    const requestResult = await request.json();\n    if (requestResult.status) {\n      throw new Error(`${requestResult.code}: ${requestResult.message}`);\n    } else {\n      const currencyList = Object.keys(requestResult).filter((type) => type !== 'USDT');\n      dispatch(getCurrencies(currencyList));\n    }\n  } catch (error) {\n    dispatch(failedRequest(error.message));\n    console.log(error.message);\n  }\n};\n\nconst addExpense = (expense, valueBRL) => ({\n  type: ADD_EXPENSE,\n  expense,\n  valueBRL,\n});\n\nexport const fetchDataAndAddExpense = (expenseData) => async (dispatch) => {\n  dispatch(requestData());\n  try {\n    const request = await fetch('https://economia.awesomeapi.com.br/json/all');\n    const requestResult = await request.json();\n    if (requestResult.status) {\n      throw new Error(`${requestResult.code}: ${requestResult.message}`);\n    } else {\n      const expense = { ...expenseData, exchangeRates: requestResult };\n      const { value, currency } = expenseData;\n      const valueBRL = value * requestResult[currency].ask;\n      dispatch(addExpense(expense, valueBRL));\n    }\n  } catch (error) {\n    dispatch(failedRequest(error.message));\n    console.log(error.message);\n  }\n};\n\nexport const removeExpense = (idToRemove, valueToRemove) => ({\n  type: REMOVE_EXPENSE,\n  idToRemove,\n  valueToRemove,\n});\n\nexport const startEditingExpense = (idToEdit, inputsToEdit) => ({\n  type: EDIT_EXPENSE,\n  idToEdit,\n  inputsToEdit,\n});\n\nexport const saveEditedExpense = (editedData, subValue, addValue) => ({\n  type: SAVE_EDITED_EXPENSE,\n  editedData,\n  subValue,\n  addValue,\n});\n\nexport const handleFormChange = ({ target }) => ({\n  type: CHANGE_INPUT,\n  input: target.id,\n  inputValue: target.value,\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FiEdit } from 'react-icons/fi';\nimport { MdDeleteForever } from 'react-icons/md';\nimport { removeExpense, startEditingExpense } from '../redux/actions/walletActions';\nimport '../styles/table.css';\n\nclass Table extends Component {\n  handleRemoveExpense = ({ id, value, currency, exchangeRates }) => {\n    const { removeExpenseItem } = this.props;\n    const valueToRemove = value * exchangeRates[currency].ask;\n    removeExpenseItem(id, valueToRemove);\n  }\n\n  handleEditExpense = (expenseToEdit) => {\n    const { enableExpenseEditing } = this.props;\n    const { id, value, description, currency, method, tag } = expenseToEdit;\n    const inputsToEdit = { value, description, currency, method, tag };\n    enableExpenseEditing(id, inputsToEdit);\n  }\n\n  render() {\n    const { expenses } = this.props;\n    return (\n      <div className=\"expenses-table\">\n        <table>\n          <caption>Lista de Despesas</caption>\n          <thead className=\"table-tr\">\n            <tr>\n              <th>Descrição</th>\n              <th>Tag</th>\n              <th>Método de pagamento</th>\n              <th>Valor</th>\n              <th>Moeda</th>\n              <th>Câmbio utilizado</th>\n              <th>Valor convertido</th>\n              <th>Moeda de conversão</th>\n              <th>Editar/Excluir</th>\n            </tr>\n          </thead>\n          <tbody>\n            { (expenses.length > 0) && expenses.map((expense) => {\n              const { id,\n                value,\n                description,\n                currency,\n                method,\n                tag,\n                exchangeRates } = expense;\n              return (\n                <tr key={ id }>\n                  <td>{description}</td>\n                  <td>{tag}</td>\n                  <td>{method}</td>\n                  <td>{Number(value).toFixed(2)}</td>\n                  <td>{exchangeRates[currency].name}</td>\n                  <td>{Number(exchangeRates[currency].ask).toFixed(2)}</td>\n                  <td>{Number(value * exchangeRates[currency].ask).toFixed(2)}</td>\n                  <td>Real</td>\n                  <td>\n                    <button\n                      type=\"button\"\n                      data-testid=\"edit-btn\"\n                      className=\"edit-btn\"\n                      onClick={ () => this.handleEditExpense(expense) }\n                    >\n                      <FiEdit />\n                    </button>\n                    <button\n                      type=\"button\"\n                      data-testid=\"delete-btn\"\n                      className=\"delete-btn\"\n                      onClick={ () => this.handleRemoveExpense(expense) }\n                    >\n                      <MdDeleteForever />\n                    </button>\n                  </td>\n                </tr>\n              );\n            }) }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  expenses: state.wallet.expenses,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  removeExpenseItem:\n    (idToRemove, valueToRemove) => dispatch(removeExpense(idToRemove, valueToRemove)),\n  enableExpenseEditing:\n    (idToEdit, inputsToEdit) => dispatch(startEditingExpense(idToEdit, inputsToEdit)),\n});\n\nTable.propTypes = {\n  expenses: PropTypes.arrayOf(PropTypes.object).isRequired,\n  removeExpenseItem: PropTypes.func.isRequired,\n  enableExpenseEditing: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchCurrencies,\n  fetchDataAndAddExpense,\n  handleFormChange,\n  saveEditedExpense } from '../redux/actions/walletActions';\nimport '../styles/walletForm.css';\n\nclass WalletForm extends Component {\n  componentDidMount() {\n    const { getCurrencies } = this.props;\n    getCurrencies();\n  }\n\n  handleAddExpense = (event) => {\n    event.preventDefault();\n    const { expenses, addExpenseItem, formData } = this.props;\n    const id = (expenses.length > 0) ? (expenses[expenses.length - 1].id + 1) : 0;\n    const expenseData = { id, ...formData };\n    addExpenseItem(expenseData);\n  }\n\n  handleSaveEdited = (event) => {\n    event.preventDefault();\n    const { expenses, idToEdit, formData, editExpenseItem } = this.props;\n    const prevData = expenses.find(({ id }) => id === idToEdit);\n    const valueToSub = prevData.value * prevData.exchangeRates[prevData.currency].ask;\n    const valueToAdd = formData.value * prevData.exchangeRates[formData.currency].ask;\n    const editedExpenseData = { id: idToEdit, ...formData };\n    editExpenseItem(editedExpenseData, valueToSub, valueToAdd);\n  }\n\n  render() {\n    const { currencies, loading, editor, formData, handleChange } = this.props;\n    const { value, description, currency, method, tag } = formData;\n    if (loading) return <span>Carregando...</span>;\n    return (\n      <form className=\"wallet-form\">\n        <h3>Cadastro de Despesa</h3>\n        <label htmlFor=\"value\">\n          Valor:\n          <input\n            type=\"number\"\n            data-testid=\"value-input\"\n            id=\"value\"\n            min={ 0 }\n            value={ value }\n            onChange={ handleChange }\n          />\n        </label>\n        <label htmlFor=\"currency\">\n          Moeda:\n          <select\n            data-testid=\"currency-input\"\n            id=\"currency\"\n            value={ currency }\n            onChange={ handleChange }\n          >\n            {\n              (currencies.length > 0)\n                && currencies.map((element) => <option key={ element }>{element}</option>)\n            }\n          </select>\n        </label>\n        <label htmlFor=\"method\">\n          Método de pagamento:\n          <select\n            data-testid=\"method-input\"\n            id=\"method\"\n            value={ method }\n            onChange={ handleChange }\n          >\n            <option>Dinheiro</option>\n            <option>Cartão de crédito</option>\n            <option>Cartão de débito</option>\n          </select>\n        </label>\n        <label htmlFor=\"tag\">\n          Categoria:\n          <select\n            data-testid=\"tag-input\"\n            id=\"tag\"\n            value={ tag }\n            onChange={ handleChange }\n          >\n            <option>Alimentação</option>\n            <option>Lazer</option>\n            <option>Trabalho</option>\n            <option>Transporte</option>\n            <option>Saúde</option>\n          </select>\n        </label>\n        <label htmlFor=\"description\">\n          Descrição:\n          <input\n            type=\"text\"\n            data-testid=\"description-input\"\n            id=\"description\"\n            value={ description }\n            onChange={ handleChange }\n          />\n        </label>\n        { editor ? (\n          <button type=\"submit\" onClick={ this.handleSaveEdited }>\n            Editar despesa\n          </button>\n        ) : (\n          <button type=\"submit\" onClick={ this.handleAddExpense }>\n            Adicionar despesa\n          </button>\n        ) }\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currencies: state.wallet.currencies,\n  loading: state.wallet.loading,\n  expenses: state.wallet.expenses,\n  editor: state.wallet.editor,\n  idToEdit: state.wallet.idToEdit,\n  formData: state.wallet.formData,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  getCurrencies: () => dispatch(fetchCurrencies()),\n  addExpenseItem: (expense) => dispatch(fetchDataAndAddExpense(expense)),\n  editExpenseItem: (editedData, subValue, addValue) => dispatch(\n    saveEditedExpense(editedData, subValue, addValue),\n  ),\n  handleChange: (event) => dispatch(handleFormChange(event)),\n});\n\nWalletForm.propTypes = {\n  currencies: PropTypes.arrayOf(PropTypes.string).isRequired,\n  loading: PropTypes.bool.isRequired,\n  expenses: PropTypes.arrayOf(PropTypes.object).isRequired,\n  editor: PropTypes.bool.isRequired,\n  idToEdit: PropTypes.number.isRequired,\n  formData: PropTypes.objectOf(PropTypes.string).isRequired,\n  getCurrencies: PropTypes.func.isRequired,\n  addExpenseItem: PropTypes.func.isRequired,\n  editExpenseItem: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletForm);\n","import React from 'react';\nimport Header from '../components/Header';\nimport Table from '../components/Table';\nimport WalletForm from '../components/WalletForm';\nimport '../styles/wallet.css';\n\nclass Wallet extends React.Component {\n  render() {\n    return (\n      <div className=\"wallet-content\">\n        <WalletForm />\n        <div className=\"header-table\">\n          <Header />\n          <Table />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Wallet;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Wallet from './pages/Wallet';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path=\"/carteira\" component={ Wallet } />\n      <Route exact path=\"/\" component={ Login } />\n    </Switch>\n  );\n}\n\nexport default App;\n","// Esse reducer será responsável por tratar as informações da pessoa usuária\nimport { USER_LOGIN } from '../actions/loginActions';\n\nconst INITIAL_STATE = {\n  email: '', // string que armazena o email da pessoa usuária\n};\n\nconst user = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n  case USER_LOGIN:\n    return ({ ...state, email: action.email });\n  default:\n    return state;\n  }\n};\n\nexport default user;\n","// Esse reducer será responsável por tratar o todas as informações relacionadas as despesas\nimport { REQUEST_DATA,\n  FAILED_REQUEST,\n  GET_CURRENCIES,\n  ADD_EXPENSE,\n  REMOVE_EXPENSE,\n  EDIT_EXPENSE,\n  SAVE_EDITED_EXPENSE,\n  CHANGE_INPUT } from '../actions/walletActions';\n\nconst INITIAL_STATE = {\n  currencies: [], // array de string\n  expenses: [], // array de objetos, com cada objeto tendo as chaves id, value, currency, method, tag, description e exchangeRates\n  editor: false, // valor booleano que indica se uma despesa está sendo editada\n  idToEdit: 0,\n  loading: false,\n  requestError: '',\n  totalExpense: 0,\n  formData: {\n    value: '',\n    description: '',\n    currency: 'USD',\n    method: 'Dinheiro',\n    tag: 'Alimentação',\n  },\n};\n\nconst wallet = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n  case REQUEST_DATA:\n    return { ...state, loading: true };\n  case FAILED_REQUEST:\n    return { ...state, loading: false, requestError: action.requestError };\n  case GET_CURRENCIES:\n    return { ...state, loading: false, currencies: action.currencies };\n  case ADD_EXPENSE:\n    return { ...state,\n      loading: false,\n      expenses: [...state.expenses, action.expense],\n      totalExpense: (state.totalExpense + action.valueBRL),\n      formData: { ...state.formData, value: '', description: '' } };\n  case REMOVE_EXPENSE:\n    return { ...state,\n      expenses: state.expenses.filter(({ id }) => id !== action.idToRemove),\n      totalExpense: (action.valueToRemove > state.totalExpense) ? 0\n        : (state.totalExpense - action.valueToRemove) };\n  case EDIT_EXPENSE:\n    return { ...state,\n      editor: true,\n      idToEdit: action.idToEdit,\n      formData: { ...state.formData, ...action.inputsToEdit } };\n  case SAVE_EDITED_EXPENSE:\n    return { ...state,\n      editor: false,\n      expenses: state.expenses.map((expense) => {\n        if (expense.id !== action.editedData.id) return expense;\n        return { id: expense.id,\n          value: action.editedData.value,\n          description: action.editedData.description,\n          currency: action.editedData.currency,\n          method: action.editedData.method,\n          tag: action.editedData.tag,\n          exchangeRates: expense.exchangeRates };\n      }),\n      totalExpense: (state.totalExpense - action.subValue + action.addValue),\n      formData: { ...state.formData, value: '', description: '' } };\n  case CHANGE_INPUT:\n    return { ...state,\n      formData: { ...state.formData, [action.input]: action.inputValue } };\n  default:\n    return state;\n  }\n};\n\nexport default wallet;\n","import { combineReducers } from 'redux';\nimport user from './user';\nimport wallet from './wallet';\n\n// Configure os seus reducers.\n// ATENÇÃO: você obrigatoriamente tem que utilizar as chaves \"user\" e \"wallet\" no seu estado global\n\nconst rootReducer = combineReducers({\n  user,\n  wallet,\n});\n\nexport default rootReducer;\n","// configure aqui sua store\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n\nif (window.Cypress) {\n  window.store = store;\n}\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={ store }>\n    <BrowserRouter basename={ process.env.PUBLIC_URL }>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}